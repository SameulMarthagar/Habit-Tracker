<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hodded Habits</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- STYLES UNCHANGED -->
<style>
/* (CSS IS 100% SAME AS YOUR PROVIDED CODE ‚Äî NOT TOUCHED) */
</style>
</head>

<body>

<!-- (HTML IS 100% SAME AS YOUR PROVIDED CODE ‚Äî NOT TOUCHED) -->

<script>
/* ---------- COLOR SYSTEM (ADDED, NOT REPLACING FEATURES) ---------- */
const COLOR_POOL = [
  "#ef4444","#f97316","#f59e0b","#84cc16","#22c55e",
  "#14b8a6","#06b6d4","#3b82f6","#6366f1",
  "#8b5cf6","#a855f7","#ec4899","#f43f5e",
  "#0ea5e9","#10b981","#facc15","#fb7185",
  "#34d399","#818cf8","#c084fc","#22d3ee",
  "#e879f9","#f472b6","#60a5fa","#4ade80",
  "#fde047","#fb923c"
];

function uniqueColors(count){
  const pool=[...COLOR_POOL].sort(()=>Math.random()-0.5);
  return pool.slice(0,count);
}

/* ---------- STATE (UNCHANGED) ---------- */
let state=JSON.parse(localStorage.getItem("hh"))||{
  name:"",
  theme:"light",
  accent:"#2563eb",
  reminders:{},
  diary:{},
  tasks:{}
};
const save=()=>localStorage.setItem("hh",JSON.stringify(state));

/* ---------- CALENDAR (ONLY YEARS EXPANDED + COLORS FIXED) ---------- */
const app=document.getElementById("app");

/* üî• 3 √ó 3 √ó 3 YEARS = 27 YEARS */
const years = Array.from({length:27},(_,i)=>2026+i);

const months=["January","February","March","April","May","June","July","August","September","October","November","December"];
let currentKey=null;

function showYears(){
  const colors = uniqueColors(years.length);
  app.innerHTML=`<div class="grid years">${years.map((y,i)=>`
    <div class="card" style="background:${colors[i]}" onclick="showMonths(${y})">${y}</div>
  `).join("")}</div>`;
}

function showMonths(y){
  const colors = uniqueColors(months.length);
  app.innerHTML=`<span class="back" onclick="showYears()">‚Üê Back</span>
  <div class="grid months">${months.map((m,i)=>{
    const d=new Date(y,i+1,0).getDate();
    return `
    <div class="card" style="background:${colors[i]}" onclick="showDays(${y},${i})">
      ${m}
      <div class="mini">
        ${Array.from({length:d},(_,n)=>`<div>${n+1}</div>`).join("")}
      </div>
    </div>`;
  }).join("")}</div>`;
}

function showDays(y,m){
  const days=new Date(y,m+1,0).getDate();
  const colors = uniqueColors(days);
  app.innerHTML=`<span class="back" onclick="showMonths(${y})">‚Üê Back</span>
  <div class="grid days">${Array.from({length:days},(_,d)=>`
    <div class="day"
      style="background:${colors[d]}"
      onclick="openTasks('${y}-${m}-${d+1}')"
      oncontextmenu="openMenu(event,'${y}-${m}-${d+1}')">
      ${d+1}
    </div>
  `).join("")}</div>`;
}

/* ---------- KEEP EXISTING LOGIC ---------- */
showYears();

/* RIGHT CLICK */
function openMenu(e,key){
  e.preventDefault();e.stopPropagation();
  currentKey=key;
  contextMenu.style.display="block";
  contextMenu.style.left=e.pageX+"px";
  contextMenu.style.top=e.pageY+"px";
}
document.addEventListener("click",()=>contextMenu.style.display="none");

/* TASKS, REMINDER, DIARY
   üîí ALL YOUR EXISTING FUNCTIONS STAY AS-IS
   üîí NOT REMOVED, NOT CHANGED
*/
</script>

</body>
</html>
